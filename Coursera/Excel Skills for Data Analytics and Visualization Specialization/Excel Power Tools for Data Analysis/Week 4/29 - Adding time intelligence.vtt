WEBVTT

1
00:00:00.000 --> 00:00:05.326
[MUSIC]

2
00:00:05.326 --> 00:00:08.878
In this video,
we're going to add time intelligence and

3
00:00:08.878 --> 00:00:11.987
conditional formatting
to our Power BI reports.

4
00:00:13.775 --> 00:00:17.291
Having a look at our area chart,
you'll see we get

5
00:00:17.291 --> 00:00:22.254
some pretty large fluctuations in
revenue from one month to the next.

6
00:00:22.254 --> 00:00:26.372
And we'd like to actually
quantify these fluctuations, and

7
00:00:26.372 --> 00:00:31.202
have a visualization that shows us
exactly how much we're increasing or

8
00:00:31.202 --> 00:00:33.988
decreasing by from one month to the next.

9
00:00:33.988 --> 00:00:39.099
And we're going to create this
visualization in our sales trends page.

10
00:00:39.099 --> 00:00:43.174
So we come to the next
page in your report.

11
00:00:43.174 --> 00:00:45.901
But before we can create
the visualization,

12
00:00:45.901 --> 00:00:49.497
we're going to actually need
to calculate those amounts.

13
00:00:49.497 --> 00:00:52.640
Now, we're actually going to
need two calculations.

14
00:00:52.640 --> 00:00:55.939
To work out of the change
between this month's revenue and

15
00:00:55.939 --> 00:00:57.832
the previous month's revenue.

16
00:00:57.832 --> 00:01:02.588
The first thing we need to work out is,
what was the previous month's revenue?

17
00:01:02.588 --> 00:01:07.473
And we can do this using a DAX
function called PREVIOUSMONTH.

18
00:01:07.473 --> 00:01:11.538
All right, so let's on the right-hand
side select Order Items because that's

19
00:01:11.538 --> 00:01:13.261
the table where we wanted to go.

20
00:01:13.261 --> 00:01:15.712
And then we're going to click new measure.

21
00:01:18.212 --> 00:01:23.244
Were going to call our new
measure Revenue Previous Month.

22
00:01:26.207 --> 00:01:29.304
And we're going to type in =.

23
00:01:29.304 --> 00:01:34.162
Now, what we're really trying to
do is take our revenue measure,

24
00:01:34.162 --> 00:01:38.778
and filter it to only show us
the values for the previous month.

25
00:01:38.778 --> 00:01:43.353
Now, you may recall from last week
that the DAX function we use to

26
00:01:43.353 --> 00:01:46.424
apply a filter is the calculate function.

27
00:01:46.424 --> 00:01:52.880
So we're going to put in a CALCULATE
function, C-A-L and Tab for CALCULATE.

28
00:01:52.880 --> 00:01:55.030
The thing we're trying to
calculate is our revenue.

29
00:01:55.030 --> 00:01:59.870
So we're just going to select revenue,
and then type a comma.

30
00:01:59.870 --> 00:02:01.493
Now comes the new bit.

31
00:02:01.493 --> 00:02:07.284
We want to filter our revenue to only
show the previous month's values.

32
00:02:07.284 --> 00:02:12.047
So we're going to type pre, and
you'll see there are four previous

33
00:02:12.047 --> 00:02:16.215
functions in DAX, and
the one we want is PREVIOUSMONTH.

34
00:02:16.215 --> 00:02:18.674
So I'm going to Tab to select that.

35
00:02:18.674 --> 00:02:22.057
Now like the time intelligence
functions we saw last week.

36
00:02:22.057 --> 00:02:26.053
PREVIOUSMONTH requires a date variable,
and

37
00:02:26.053 --> 00:02:30.872
it must be from a table where
we have consecutive dates.

38
00:02:30.872 --> 00:02:35.836
So once again, we're seeing why it is so
important to have a calendar table in our

39
00:02:35.836 --> 00:02:39.935
model, because it allows us to
use time intelligence functions.

40
00:02:39.935 --> 00:02:43.761
We're going to select calendar date,
close our bracket for

41
00:02:43.761 --> 00:02:47.753
the PREVIOUSMONTH and
close our bracket for the CALCULATE.

42
00:02:47.753 --> 00:02:50.632
And then press Enter.

43
00:02:50.632 --> 00:02:53.483
We probably also want
to format that measure.

44
00:02:53.483 --> 00:02:57.160
So coming up to format,
let's set that to currency, and

45
00:02:57.160 --> 00:03:00.004
we're going to set it
to zero decimal places.

46
00:03:02.754 --> 00:03:06.519
So there's our calculation for
previous month.

47
00:03:06.519 --> 00:03:09.961
Now what we need to do is get
the difference between this month and

48
00:03:09.961 --> 00:03:11.121
the previous month.

49
00:03:11.121 --> 00:03:13.016
That's a nice, easy measure.

50
00:03:13.016 --> 00:03:15.117
So we're going to click new measure again.

51
00:03:17.036 --> 00:03:22.010
We're going to call this
one month on month change,

52
00:03:25.282 --> 00:03:29.624
And we're simply going to take
revenue from this month and

53
00:03:29.624 --> 00:03:34.067
subtract revenue from the previous month,
nice and easy.

54
00:03:34.067 --> 00:03:36.832
And press Enter.

55
00:03:36.832 --> 00:03:39.135
We're now ready to create
our visualization.

56
00:03:39.135 --> 00:03:44.017
And a really good choice of visualization,
if you're trying to show increases and

57
00:03:44.017 --> 00:03:46.819
decreases over time,
is the waterfall chart.

58
00:03:46.819 --> 00:03:51.637
So I'm just going to click onto my canvas,
and then from the visualizations,

59
00:03:51.637 --> 00:03:54.049
I'm going to select waterfall chart.

60
00:03:55.609 --> 00:04:00.178
And I'm just going to resize and
reposition,

61
00:04:00.178 --> 00:04:04.872
so it takes up about
the first half of my canvas.

62
00:04:04.872 --> 00:04:10.268
Coming to my calendar table,
I'm going to add fiscal month.

63
00:04:10.268 --> 00:04:16.335
And then I'm going to add my new measure,
month on month change.

64
00:04:16.335 --> 00:04:20.617
And now not only can we see exactly
how much our revenue increased or

65
00:04:20.617 --> 00:04:22.313
decreased by each month.

66
00:04:22.313 --> 00:04:28.072
But we get a column showing us the total
change over that financial year.

67
00:04:28.072 --> 00:04:32.929
Another metric we'd like to look
at is our percentage change from

68
00:04:32.929 --> 00:04:34.620
one month to the next.

69
00:04:34.620 --> 00:04:38.235
And to show this,
we're actually going to include a table.

70
00:04:38.235 --> 00:04:41.260
So just click to the right
of your waterfall chart.

71
00:04:41.260 --> 00:04:46.881
And then under visualizations, can you
please find tables just next to matrix?

72
00:04:46.881 --> 00:04:50.541
And I actually want to put my
table next to my waterfall chart.

73
00:04:50.541 --> 00:04:56.589
So I'm just going to move
that up there and resize.

74
00:04:56.589 --> 00:05:00.601
And similar to my waterfall chart,
I want to see fiscal month.

75
00:05:03.951 --> 00:05:06.797
And I'd like to see my revenue for
this month and my revenue for

76
00:05:06.797 --> 00:05:07.796
the previous month.

77
00:05:07.796 --> 00:05:12.509
But there are a few changes
I need to make to the table.

78
00:05:12.509 --> 00:05:17.462
So coming to my format panel,
I'm going to turn the totals off

79
00:05:17.462 --> 00:05:22.328
because they don't make a lot
of sense in this situation.

80
00:05:22.328 --> 00:05:25.529
And I'd also like to make my
values a little easier to read.

81
00:05:25.529 --> 00:05:30.187
So under values,
I'm going to increase them to size 10.

82
00:05:30.187 --> 00:05:34.661
And then I'm going to do the same for
my column headings.

83
00:05:36.027 --> 00:05:39.882
I'm going to make them size 10 as well.

84
00:05:39.882 --> 00:05:42.339
Okay, that's looking pretty good.

85
00:05:44.853 --> 00:05:50.560
And now I just need to create one more
measure to show me my percentage change.

86
00:05:50.560 --> 00:05:52.956
Now, percentage change
is easy to calculate.

87
00:05:52.956 --> 00:05:56.251
We just need to take our
month on month change, and

88
00:05:56.251 --> 00:05:59.239
divide it by our previous month's revenue.

89
00:05:59.239 --> 00:06:03.166
So making sure we've got
Order_Items selected,

90
00:06:03.166 --> 00:06:05.917
we're going to click new measure.

91
00:06:06.960 --> 00:06:11.852
And this is going to be month on

92
00:06:11.852 --> 00:06:16.360
month percentage change.

93
00:06:16.360 --> 00:06:19.720
And I could just use my forward slash, but

94
00:06:19.720 --> 00:06:25.295
Dax provides us with a much safer
divide called the DIVIDE function.

95
00:06:25.295 --> 00:06:29.171
On the advantage of
the DIVIDE function is,

96
00:06:29.171 --> 00:06:33.169
it allows us to handle
a divide by zero error.

97
00:06:33.169 --> 00:06:39.001
And if you think about it, we don't
have any sales from before July 2017.

98
00:06:39.001 --> 00:06:43.496
So we are going to end up with
a potential divide by zero.

99
00:06:43.496 --> 00:06:48.338
The DIVIDE function will allow us
to specify how to handle that.

100
00:06:48.338 --> 00:06:51.586
Right, so typing in DIVIDE,
first thing we need is our numerator.

101
00:06:51.586 --> 00:06:56.407
That's going to be the bit at the top,
that's our month on month change.

102
00:06:56.407 --> 00:07:01.493
Then a comma, and we want to divide
that by our previous month's revenue.

103
00:07:01.493 --> 00:07:04.203
So revenue previous month.

104
00:07:04.203 --> 00:07:05.895
And then another comma,

105
00:07:05.895 --> 00:07:10.336
because this is where we specify
what to do if we get a divide by 0.

106
00:07:10.336 --> 00:07:14.138
And I'm just going to type 0,
close my bracket, and press Enter.

107
00:07:14.138 --> 00:07:17.321
And then again,
I will want to format this.

108
00:07:17.321 --> 00:07:24.274
So we're going to set this as
a percentage with one decimal place.

109
00:07:24.274 --> 00:07:27.424
That's all set up, let's now go and
add that to our table.

110
00:07:27.424 --> 00:07:31.694
So finding your brand new measure,
we're going to tick on that.

111
00:07:31.694 --> 00:07:34.770
And we can now see our month
on month percentage change.

112
00:07:34.770 --> 00:07:38.662
And if I come to my 2018 fiscal year,

113
00:07:38.662 --> 00:07:44.168
you can see it's handled that
divide by 0 beautifully.

114
00:07:44.168 --> 00:07:49.541
Looking great, back to 2020,
one last thing we're going to look at,

115
00:07:49.541 --> 00:07:55.873
still working in our table, we're going to
see how we can add conditional formatting.

116
00:07:55.873 --> 00:08:00.064
I would like to see a green up arrow
where there's been an increase.

117
00:08:00.064 --> 00:08:03.039
A red down arrow where
there's been a decrease.

118
00:08:03.039 --> 00:08:05.352
And where there's been
practically no change.

119
00:08:05.352 --> 00:08:10.976
So let's say, between -1% and 1%,
I just want to see a little flat line.

120
00:08:10.976 --> 00:08:13.791
And we can do this with
conditional formatting.

121
00:08:13.791 --> 00:08:16.915
But it's slightly hidden, so
let's see where we find it.

122
00:08:16.915 --> 00:08:19.168
Make sure you've got to table selected.

123
00:08:19.168 --> 00:08:23.803
We're going to come to format,
and if you scroll down slightly,

124
00:08:23.803 --> 00:08:26.687
you'll find conditional formatting.

125
00:08:26.687 --> 00:08:30.994
We want to add conditional formatting
to our month on month percentage change

126
00:08:30.994 --> 00:08:32.793
columns, so just select that.

127
00:08:32.793 --> 00:08:36.051
And then if you have a look at
the options very similar to excel,

128
00:08:36.051 --> 00:08:38.891
you can change the background color,
the font color.

129
00:08:38.891 --> 00:08:43.463
You can add data bars,
all the one we're looking for icons.

130
00:08:43.463 --> 00:08:46.577
So can you please turn the icons on?

131
00:08:46.577 --> 00:08:50.226
And those weren't the icons I had in mind.

132
00:08:50.226 --> 00:08:53.199
So we're going to select
advanced controls, and

133
00:08:53.199 --> 00:08:56.395
from here you can choose
the icon sets you want to use.

134
00:08:56.395 --> 00:08:59.132
And the Rangers you want to apply to.

135
00:08:59.132 --> 00:09:01.529
So we're going to start
by coming to style.

136
00:09:01.529 --> 00:09:07.484
Click the drop down, and the ones we're
looking for are the up and down arrows.

137
00:09:07.484 --> 00:09:09.882
So I'm going to select those, and

138
00:09:09.882 --> 00:09:13.446
now I can specify which
ranges I want to add them to.

139
00:09:13.446 --> 00:09:18.476
So the red triangle is going to
be where there's been a decrease.

140
00:09:18.476 --> 00:09:21.654
So I'm going to say is greater than or
equal to.

141
00:09:21.654 --> 00:09:24.722
And I'm going to say minus 100.

142
00:09:24.722 --> 00:09:29.311
And I'm going to change that 10 number and
is less than.

143
00:09:29.311 --> 00:09:33.955
And remember we said that we
would do everything under- 1%.

144
00:09:33.955 --> 00:09:37.082
So that's going to be not point, not one.

145
00:09:37.082 --> 00:09:40.472
And I'm going to change that to number.

146
00:09:40.472 --> 00:09:45.706
The reason I'm not using percentages
is they won't let you go over 100%,

147
00:09:45.706 --> 00:09:49.053
but you could actually
have a 200% increase.

148
00:09:49.053 --> 00:09:56.683
So we're going to work with
numbers rather then for

149
00:09:56.683 --> 00:10:01.894
the middle one we're going to say

150
00:10:01.894 --> 00:10:07.860
is greater than or equal to -0.1.

151
00:10:07.860 --> 00:10:08.618
And again number and is less than 0.1.

152
00:10:08.618 --> 00:10:15.130
And finally, an increase is anything

153
00:10:15.130 --> 00:10:21.036
over 0.1 and less than 100.

154
00:10:21.036 --> 00:10:21.962
That's all set up.

155
00:10:21.962 --> 00:10:23.996
We're going to click, OK?

156
00:10:23.996 --> 00:10:26.551
And our conditional
formatting has been applied.

157
00:10:26.551 --> 00:10:29.621
And of course, if we change our filters,

158
00:10:29.621 --> 00:10:33.854
it automatically updates
the conditional formatting.

159
00:10:33.854 --> 00:10:36.566
So we've seen how using
DAX in our calendar table.

160
00:10:36.566 --> 00:10:39.303
We can add time intelligence
to our reports on.

161
00:10:39.303 --> 00:10:42.314
We've even seen how we can
add conditional formatting.

162
00:10:42.314 --> 00:10:44.329
The report is starting to look great on.

163
00:10:44.329 --> 00:10:48.076
The next thing I want to be able to
do is share this with colleagues.

164
00:10:48.076 --> 00:10:51.700
So in the next video, we're going
to have a look at some options for

165
00:10:51.700 --> 00:10:53.661
sharing our power beyond reports.